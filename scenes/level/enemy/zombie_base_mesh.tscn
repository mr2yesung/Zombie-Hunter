[gd_scene load_steps=14 format=3 uid="uid://erpr2ttal44b"]

[ext_resource type="PackedScene" uid="uid://b3q5d62w5vptf" path="res://assets/meshes/enemies/zombie_base.glb" id="1_l4wq1"]
[ext_resource type="Script" path="res://scripts/level/enemy/zombie_mesh.gd" id="2_3s6hd"]
[ext_resource type="AnimationLibrary" uid="uid://l4e2tjt2hmpy" path="res://resources/animations/zombie_animation.res" id="2_6vv6i"]
[ext_resource type="PackedScene" uid="uid://chdf1lvbpujbd" path="res://scenes/level/sounds/footstep_sound_player.tscn" id="4_dyuep"]
[ext_resource type="AudioStream" uid="uid://d1s3muqx2x5pp" path="res://assets/audios/zombies/zombie_dead.wav" id="4_tdjtt"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_opi0y"]
animation = &"zombie_animation/die"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_x1kgy"]
animation = &"zombie_animation/run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_aeuij"]
animation = &"zombie_animation/walk"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_38k6s"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_3bcor"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7gn53"]

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_218r8"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_gsnrw"]
states/Start/position = Vector2(193, 28)
states/zombie_animation_die/node = SubResource("AnimationNodeAnimation_opi0y")
states/zombie_animation_die/position = Vector2(640, 28)
states/zombie_animation_run/node = SubResource("AnimationNodeAnimation_x1kgy")
states/zombie_animation_run/position = Vector2(413, -18)
states/zombie_animation_walk/node = SubResource("AnimationNodeAnimation_aeuij")
states/zombie_animation_walk/position = Vector2(413, 75)
transitions = ["zombie_animation_walk", "zombie_animation_run", SubResource("AnimationNodeStateMachineTransition_38k6s"), "zombie_animation_run", "zombie_animation_die", SubResource("AnimationNodeStateMachineTransition_3bcor"), "zombie_animation_walk", "zombie_animation_die", SubResource("AnimationNodeStateMachineTransition_7gn53"), "Start", "zombie_animation_walk", SubResource("AnimationNodeStateMachineTransition_218r8")]
graph_offset = Vector2(-4, -69)

[node name="zombie_base" node_paths=PackedStringArray("death_sound_player") instance=ExtResource("1_l4wq1")]
script = ExtResource("2_3s6hd")
death_sound_player = NodePath("DeathSoundPlayer")

[node name="Skeleton3D" parent="Root" index="0"]
bones/7/rotation = Quaternion(-0.707107, 1.54543e-08, 0.707107, -1.54543e-08)
bones/16/rotation = Quaternion(-0.707107, -1.09685e-07, 0.707107, -1.54543e-08)
bones/18/position = Vector3(0.444795, 1.33937, 0.110732)
bones/18/rotation = Quaternion(-0.263947, -0.0616396, 0.962082, 0.0304996)
bones/20/rotation = Quaternion(0.00917, 0.02947, -0.0373069, 0.998827)
bones/23/rotation = Quaternion(0.428821, 0.108816, -0.142381, 0.885437)
bones/24/rotation = Quaternion(-0.335305, 0.103348, 0.0306097, 0.935924)
bones/26/rotation = Quaternion(0.417798, 0.281986, 0.61635, -0.605014)
bones/27/rotation = Quaternion(0.466962, 0.231832, -0.354121, 0.776401)
bones/28/rotation = Quaternion(0.145812, 0.0124523, 0.00241973, 0.989231)
bones/29/rotation = Quaternion(0.03173, 0.67741, 0.0556114, 0.732814)
bones/30/rotation = Quaternion(0.109591, -0.165112, 0.0794629, 0.976941)
bones/31/rotation = Quaternion(0.176888, 0.062909, -0.02508, 0.981898)
bones/32/rotation = Quaternion(0.371777, -0.0312414, -0.034635, 0.92715)
bones/34/rotation = Quaternion(-0.0556268, 0.783561, 0.281625, 0.551023)
bones/35/rotation = Quaternion(0.191509, 0.012532, 0.0452918, 0.980365)
bones/37/rotation = Quaternion(0.605879, -0.718218, 0.171854, 0.295871)
bones/38/rotation = Quaternion(0.734224, 0.559702, -0.163132, -0.347904)
bones/39/rotation = Quaternion(-0.014945, -0.00469619, 0.178011, 0.983904)
bones/40/rotation = Quaternion(-0.0768879, -0.0888773, 0.172298, 0.97801)
bones/41/rotation = Quaternion(0.181801, -0.0853214, -0.0309983, 0.979136)
bones/42/rotation = Quaternion(-0.378719, 0.0651235, -0.0470933, 0.922016)
bones/43/rotation = Quaternion(-0.10188, -0.0284923, -0.0123839, 0.994312)
bones/45/rotation = Quaternion(-0.346956, 0.826736, -0.256657, -0.36091)
bones/46/rotation = Quaternion(-0.512875, 0.0229856, 0.248334, 0.821439)
bones/48/rotation = Quaternion(0.88093, 0.159164, 0.0428968, 0.443609)
bones/48/scale = Vector3(1.00001, 0.999986, 1)
bones/49/rotation = Quaternion(0.614023, -0.0477082, 0.183708, 0.766127)
bones/50/rotation = Quaternion(-0.603767, -0.357871, -0.202229, 0.683006)
bones/53/rotation = Quaternion(0.973687, -0.204953, -0.0928249, 0.0362105)
bones/54/rotation = Quaternion(0.322643, 0.0878839, -0.0604451, 0.940492)
bones/55/rotation = Quaternion(-0.499147, 0.274688, 0.236063, 0.787193)

[node name="AnimationPlayer" type="AnimationPlayer" parent="." index="1"]
libraries = {
"zombie_animation": ExtResource("2_6vv6i")
}

[node name="AnimationTree" type="AnimationTree" parent="." index="2"]
libraries = {
"zombie_animation": ExtResource("2_6vv6i")
}
tree_root = SubResource("AnimationNodeStateMachine_gsnrw")
anim_player = NodePath("../AnimationPlayer")

[node name="DeathSoundPlayer" type="AudioStreamPlayer3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.4403, 0.360035)
stream = ExtResource("4_tdjtt")

[node name="FootstepSoundPlayer" parent="." index="4" instance=ExtResource("4_dyuep")]

[node name="WalkSoundPlayer" parent="FootstepSoundPlayer" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
volume_db = 20.0

[node name="RunSoundPlayer" parent="FootstepSoundPlayer" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0)
volume_db = 20.0

[editable path="FootstepSoundPlayer"]
